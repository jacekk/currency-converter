(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,a,t){e.exports=t(375)},184:function(e,a,t){},210:function(e,a,t){},265:function(e,a,t){},286:function(e,a,t){},374:function(e,a,t){},375:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(7),c=t.n(o),s=(t(184),t(60)),i=t(35),l=t(12),u=t.n(l),p=t(49),d=t(165),m=t(166),f=t.n(m),h=t(23),C=t(115),g=t.n(C),y=["AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"],v={comparison:{},main:{}},b="rates/FETCH_MAIN_START",E="rates/FETCH_MAIN_SUCCESS",D="rates/FETCH_COMPARISON_START",O="rates/FETCH_COMPARISON_SUCCESS",w=function(){return function(e,a){var t=a().controls,n=t.mainDate.format("YYYY-MM-DD"),r=t.currency,o="".concat("https://frankfurter.app/").concat(n,"?base=").concat(r);return e({type:b}),g.a.get(o).then(function(a){e(function(e){return{type:E,payload:Object(i.get)(e,"data.rates")}}(a))})}},k=function(){return function(e,a){var t=a().controls,n=t.comparisonDate.format("YYYY-MM-DD"),r=t.currency,o="".concat("https://frankfurter.app/").concat(n,"?base=").concat(r);return e({type:D}),g.a.get(o).then(function(a){e(function(e){return{type:O,payload:Object(i.get)(e,"data.rates")}}(a))})}};var j=function(e){return a=e,t=1,n=1e6,Math.min(n,Math.max(t,a));var a,t,n},N={amount:100,comparisonDate:u()().subtract(1,"months"),currency:"PLN",isCalculatorEnabled:!1,isComparisonEnabled:!1,mainDate:u()()},A="controls/AMOUNT_CHANGE",R="controls/CALCULATOR_TOGGLE",x="controls/COMPARISON_DATE_CHANGE",T="controls/COMPARISON_TOGGLE",S="controls/CURRENCY_CHANGE",M="controls/MAIN_DATE_CHANGE",Y=function(e){return function(a){a({type:M,payload:e}),a(w())}},I=function(e){return function(a){a({type:x,payload:e}),a(k())}},H=function(e){return function(a){a(function(e){return{type:T,payload:e}}(e)),e&&a(k())}},_=function(e){return function(a,t){var n=t().controls;a({type:S,payload:e}),a(w()),n.isComparisonEnabled&&a(k())}};var G={controls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case A:var t=parseFloat(a.payload);return isNaN(t)?e:Object(h.a)({},e,{amount:j(t)});case R:return Object(h.a)({},e,{isCalculatorEnabled:a.payload});case x:return Object(h.a)({},e,{comparisonDate:a.payload});case T:return Object(h.a)({},e,{isComparisonEnabled:a.payload});case S:return~y.indexOf(a.payload)?Object(h.a)({},e,{currency:a.payload}):e;case M:return Object(h.a)({},e,{mainDate:a.payload});default:return e}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case b:return Object(h.a)({},e,{main:{}});case E:return Object(h.a)({},e,{main:a.payload});case D:return Object(h.a)({},e,{comparison:{}});case O:return Object(h.a)({},e,{comparison:a.payload});default:return e}}},P=Object(p.d)(Object(p.a)(d.a),f()(["controls"],{deserialize:function(e){var a={};try{a=JSON.parse(e)}catch(t){}return Object(i.set)(a,"controls.mainDate",u()(Object(i.get)(a,"controls.mainDate"))),Object(i.set)(a,"controls.comparisonDate",u()(Object(i.get)(a,"controls.comparisonDate"))),a},key:"currency-converter-v0.1.0"}),window.devToolsExtension?window.devToolsExtension():function(e){return e}),U=Object(p.e)(Object(p.c)(G),{},P);U.dispatch(function(e,a){e(w()),Object(i.get)(a(),"controls.isComparisonEnabled")&&e(k())});var F=U,L=(t(127),t(62)),K=t(92),B=(t(210),L.a.Footer),W=function(e){return r.a.createElement(B,{className:"AppFooter"},r.a.createElement("div",null,K.author),r.a.createElement("div",null,"Source: ",r.a.createElement("a",{href:K.repository.url,target:"blank",title:"Go to GitHub repo"},"GitHub")),r.a.createElement("div",null,"v",K.version))},z=(t(252),t(176)),J=(t(254),t(175)),Z=(t(140),t(34)),Q=(t(377),t(118)),X=(t(262),t(51)),$=(t(142),t(41)),q=(t(265),$.a.Option),V=Object(s.b)(function(e){return Object(h.a)({},e.controls)},function(e){return{onAmountChange:function(a){return e({type:A,payload:a})},onCalculationToggle:function(a){return e((t=a.target.checked,{type:R,payload:t}));var t},onComparisonDateChange:function(a){return e(I(a))},onComparisonToggle:function(a){return e(H(a.target.checked))},onCurrencyChange:function(a){return e(_(a))},onMainDateChange:function(a){return e(Y(a))}}})(function(e){return r.a.createElement(z.a,{type:"flex",justify:"center",gutter:16},r.a.createElement(X.a,{span:4},r.a.createElement($.a,{className:"Controls-currencySelect",onChange:e.onCurrencyChange,showSearch:!0,value:e.currency},y.map(function(e){return r.a.createElement(q,{key:e},e)}))),r.a.createElement(X.a,{span:4},r.a.createElement(Q.a,{allowClear:!1,onChange:e.onMainDateChange,value:e.mainDate})),r.a.createElement(X.a,{span:4,className:"Controls-checkbox"},r.a.createElement(Z.a,{checked:e.isComparisonEnabled,onChange:e.onComparisonToggle},"Compare?")),r.a.createElement(X.a,{span:4},r.a.createElement(Q.a,{allowClear:!1,disabled:!e.isComparisonEnabled,onChange:e.onComparisonDateChange,value:e.comparisonDate})),r.a.createElement(X.a,{span:4,className:"Controls-checkbox"},r.a.createElement(Z.a,{checked:e.isCalculatorEnabled,onChange:e.onCalculationToggle},"Calculate?")),r.a.createElement(X.a,{span:4},r.a.createElement(J.a,{disabled:!e.isCalculatorEnabled,min:1,max:1e6,onChange:e.onAmountChange,value:e.amount})))}),ee=(t(376),t(174)),ae=t(50),te=t.n(ae),ne=function(e){var a=e.amount,t=e.comparisons,n=e.currencies,r=e.hasCals,o=e.hasComparison,c=e.rates;return n.map(function(e){var n=c[e]||0,s=0,i=0,l=0,u=0,p=0;return r&&(i=n*a),o&&(s=t[e])&&(u=n-s,p=n/s,r&&(l=s*a)),{key:e,rate:te()(n).format("0,0.00"),comparisonRate:te()(s).format("0,0.00"),calculated:te()(i).format("0,0.00"),compCalculated:te()(l).format("0,0.00"),diff:te()(u).format("0,0.00"),ratio:te()(p).format("(0.00 %)")}})},re=function(e){var a="Results-diffIncrease";return"0.00"===e?a="Results-noDiff":"-"===e[0]&&(a="Results-diffDecrease"),r.a.createElement("span",{className:a},e)},oe=function(e){return[{title:"currencies",dataIndex:"key",key:"key"},{title:"".concat(e.ratesDate," | rates"),dataIndex:"rate",key:"rate"},e.hasComparison&&{title:"".concat(e.comparisonDate," | rates"),dataIndex:"comparisonRate",key:"comparisonRate"},e.hasCals&&{title:"".concat(e.ratesDate," | calculated"),dataIndex:"calculated",key:"calculated"},e.hasComparison&&e.hasCals&&{title:"".concat(e.comparisonDate," | calculated"),dataIndex:"compCalculated",key:"compCalculated"},e.hasComparison&&{title:"difference",dataIndex:"diff",key:"diff",render:re},e.hasComparison&&{title:"ratio",dataIndex:"ratio",key:"ratio"}].filter(Boolean)},ce=(t(286),Object(s.b)(function(e){return{amount:e.controls.amount,comparisons:e.rates.comparison,comparisonDate:e.controls.comparisonDate.format("YYYY-MM-DD"),currencies:Object.keys(e.rates.main),hasCals:e.controls.isCalculatorEnabled,hasComparison:e.controls.isComparisonEnabled,rates:e.rates.main,ratesDate:e.controls.mainDate.format("YYYY-MM-DD")}})(function(e){return r.a.createElement(ee.a,{bordered:!0,className:"Results-table",columns:oe(e),dataSource:ne(e),pagination:!1,size:"small"})})),se=(t(374),L.a.Header),ie=L.a.Content,le=function(){return r.a.createElement(L.a,{className:"App"},r.a.createElement(se,{className:"App-header"},r.a.createElement(V,null)),r.a.createElement(ie,{className:"App-body"},r.a.createElement(ce,null)),r.a.createElement(W,null))},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(function(){return r.a.createElement(s.a,{store:F},r.a.createElement(le,null))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/currency-converter",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/currency-converter","/service-worker.js");ue?(function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):pe(e)})}}()},92:function(e){e.exports={name:"currency-converter",author:"JacekK",version:"0.2.0",homepage:"https://jacekk.github.io/currency-converter/",private:!0,repository:{type:"git",url:"https://github.com/jacekk/currency-converter"},scripts:{build:"react-app-rewired build",coverage:"react-app-rewired test --coverage",deploy:"gh-pages -d build --message 'v0.2.0 released;' ",eject:"react-scripts eject",predeploy:"npm run build",start:"react-app-rewired start",test:"react-app-rewired test"},jest:{setupFilesAfterEnv:["<rootDir>/src/setupTests.js"],coveragePathIgnorePatterns:["./src/store.js","./src/registerServiceWorker.js","index.jsx?"]},devDependencies:{antd:"^3.1.6",axios:"^0.19.0","babel-plugin-import":"^1.6.3","customize-cra":"^0.2.13",enzyme:"^3.3.0","enzyme-adapter-react-16":"^1.1.1","gh-pages":"^1.1.0",lodash:"^4.17.5",numeral:"^2.0.6",react:"^16.2.0","react-app-rewired":"^2.1.3","react-dom":"^16.2.0","react-redux":"^5.0.6","react-scripts":"^3.0.1","react-test-renderer":"^16.2.0",redux:"^3.7.2","redux-localstorage":"^0.4.1","redux-thunk":"^2.2.0"},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}}},[[179,1,2]]]);
//# sourceMappingURL=main.5308b5e3.chunk.js.map